<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: reducers.ts</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: reducers.ts</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { Action, State } from './types';
import { isNumber } from './utils';

/**
 *
 * @param {State} s - current calculator state
 * @param {Action} a - action dispatched by current button clicked
 * @returns {State} - updated state
 */
export function calculate(s: State, a: Action): State {
  /**
   * 1 + 1 -
   * in this case the - performs the former + operation
   */
  const { buttonName } = a;
  if (isNumber(buttonName)) {
    /**
     * user clicks zero twice consecutively
     * may or may not be an operation
     * for example 0,0
     * or 1 + 0,0
     */

    if (buttonName === '0' &amp;&amp; s.next === '0') {
      return s;
    }

    /**
     * operation already selected
     */
    if (s.operation) {
      /**
       * next value is non-empty (populated from a prevous numeric action)
       * append currently clicked value to current next value
       * for example 1 + 2,3
       * here the person is trying to add 23 to 1 having already clicked 2
       * append next digit
       */
      if (s.next) {
        return { ...s, next: s.next + buttonName };
      }
      /**
       * initialize next value
       * for example 1 + 2
       * once user has selected 2 that initializes the next value
       */
      return { ...s, next: buttonName };
    }

    /**
     * no operation has been selected
     */

    if (s.next) {
      /**
       * no operation but user has formerly selected zero
       * for example 0, 1
       * essentially overwrites current 0 value not tied to any operation
       */
      if (s.next === '0') {
        return { ...s, next: buttonName };
      }

      /**
       * no operation with next already initialized
       * user is entering a number with >1 digits
       * right-append next digit
       */
      return { ...s, next: s.next + buttonName };
    }

    return { ...s, next: buttonName };
  }

  switch (a.buttonName) {

    case '%':
    /**
     * case where operation and next values are present
     * for example 1 + 1 % => 0.02
     */
    // if (s.operation &amp;&amp; s.next) {
    //   const result =
    // }
    default:
      return s;
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#calculate">calculate</a></li><li><a href="global.html#isNumber">isNumber</a></li><li><a href="global.html#operate">operate</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sun Feb 28 2021 16:01:00 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
